<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Egg Translator</title>
<style>
  html, body {
    margin: 0; padding: 0;
    height: 100vh;
    overflow: hidden;
    font-family: Arial, sans-serif;
    background: #fff9f0;
    position: relative;
  }
  .floating-egg {
    position: fixed;
    user-select: none;
    pointer-events: none;
    font-size: 1rem;
    opacity: 0.6;
    will-change: transform;
    z-index: 0;
  }
  .container {
    position: relative;
    z-index: 10;
    max-width: 600px;
    margin: 2em auto;
    padding: 1em 2em;
    background: #fff7d6;
    border-radius: 10px;
    box-shadow: 0 0 20px #f5d76e88;
  }
  h1 {
    color: #d97706;
    text-align: center;
  }
  textarea {
    width: 100%;
    height: 100px;
    font-size: 1.1rem;
    padding: 0.8em;
    border-radius: 6px;
    border: 1px solid #ddd;
    resize: vertical;
  }
  button {
    margin-top: 1em;
    margin-right: 10px;
    padding: 10px 16px;
    background: #ffe17d;
    border: none;
    border-radius: 6px;
    font-weight: 700;
    cursor: pointer;
    transition: background-color 0.2s;
  }
  button:hover {
    background: #ffd93a;
  }
  #output {
    margin-top: 1em;
    min-height: 80px;
    background: #fff9d1;
    padding: 1em;
    border-radius: 6px;
    white-space: pre-wrap;
    font-size: 1.1rem;
    line-height: 1.4;
  }
</style>
</head>
<body>

<div class="container">
  <h1>ðŸ¥š Egg Translator</h1>
  <textarea id="input" placeholder="Type your message here..."></textarea><br />
  <button onclick="translateToEgg()">Translate to Egg</button>
  <button onclick="translateToEnglish()">Translate to English</button>
  <button onclick="copyEgg()">Copy</button>
  <div id="output"></div>
</div>

<script>
  // Egg dictionary: letter â†’ egg + letter combo
  const eggDictionary = {
    a: "ðŸ¥ša",
    b: "ðŸ¥šb",
    c: "ðŸ¥šc",
    d: "ðŸ¥šd",
    e: "ðŸ¥še",
    f: "ðŸ¥šf",
    g: "ðŸ¥šg",
    h: "ðŸ¥šh",
    i: "ðŸ¥ši",
    j: "ðŸ¥šj",
    k: "ðŸ¥šk",
    l: "ðŸ¥šl",
    m: "ðŸ¥šm",
    n: "ðŸ¥šn",
    o: "ðŸ¥šo",
    p: "ðŸ¥šp",
    q: "ðŸ¥šq",
    r: "ðŸ¥šr",
    s: "ðŸ¥šs",
    t: "ðŸ¥št",
    u: "ðŸ¥šu",
    v: "ðŸ¥šv",
    w: "ðŸ¥šw",
    x: "ðŸ¥šx",
    y: "ðŸ¥šy",
    z: "ðŸ¥šz"
  };

  // Reverse dictionary for egg phrase â†’ letter
  const reverseDictionary = Object.fromEntries(
    Object.entries(eggDictionary).map(([k, v]) => [v.toLowerCase(), k])
  );

  function translateToEgg() {
    const input = document.getElementById("input").value.toLowerCase();
    let result = "";

    for (const char of input) {
      if (eggDictionary[char]) {
        result += eggDictionary[char] + "|";
      } else if (char === " ") {
        result += "|";  // separate spaces with empty chunk
      } else {
        result += char + "|";
      }
    }

    // Remove last |
    if (result.endsWith("|")) result = result.slice(0, -1);

    document.getElementById("output").textContent = result;
  }

  function translateToEnglish() {
    const input = document.getElementById("input").value.toLowerCase().trim();
    const chunks = input.split("|").map(c => c.trim());
    let result = "";

    for (const chunk of chunks) {
      if (reverseDictionary[chunk]) {
        result += reverseDictionary[chunk];
      } else if (chunk === "") {
        result += " ";
      } else {
        result += "?";
      }
    }

    document.getElementById("output").textContent = result;
  }

  function copyEgg() {
    const output = document.getElementById("output").textContent;
    navigator.clipboard.writeText(output).then(() => {
      alert("ðŸ¥š Copied to clipboard!");
    });
  }

  // Floating egg animation variables
  const eggChars = ["ðŸ¥š"];

  // Random utility
  function randomBetween(min, max) {
    return Math.random() * (max - min) + min;
  }

  // Spawn a floating egg at a random edge, moving in random direction
  function spawnEgg() {
    const egg = document.createElement("div");
    egg.className = "floating-egg";
    egg.textContent = eggChars[Math.floor(Math.random() * eggChars.length)];

    // Random size 1rem to 15rem
    const size = randomBetween(1, 15);
    egg.style.fontSize = size + "rem";

    // Choose a random spawn edge: top, right, bottom, left
    const edges = ["top", "right", "bottom", "left"];
    const edge = edges[Math.floor(Math.random() * edges.length)];

    let startX, startY;

    switch(edge) {
      case "top":
        startX = randomBetween(0, window.innerWidth);
        startY = -50;
        break;
      case "right":
        startX = window.innerWidth + 50;
        startY = randomBetween(0, window.innerHeight);
        break;
      case "bottom":
        startX = randomBetween(0, window.innerWidth);
        startY = window.innerHeight + 50;
        break;
      case "left":
        startX = -50;
        startY = randomBetween(0, window.innerHeight);
        break;
    }

    egg.style.left = startX + "px";
    egg.style.top = startY + "px";

    // Random movement vector toward opposite side + some randomness
    // For example, if spawned at top, move generally downward
    let velocityX, velocityY;
    switch(edge) {
      case "top":
        velocityX = randomBetween(-0.5, 0.5);
        velocityY = randomBetween(0.5, 1.5);
        break;
      case "right":
        velocityX = randomBetween(-1.5, -0.5);
        velocityY = randomBetween(-0.5, 0.5);
        break;
      case "bottom":
        velocityX = randomBetween(-0.5, 0.5);
        velocityY = randomBetween(-1.5, -0.5);
        break;
      case "left":
        velocityX = randomBetween(0.5, 1.5);
        velocityY = randomBetween(-0.5, 0.5);
        break;
    }

    let posX = startX;
    let posY = startY;

    // Animate using requestAnimationFrame
    let lifetime = 0;
    const maxLifetime = 20000; // 20 seconds max

    function animate() {
      posX += velocityX;
      posY += velocityY;
      lifetime += 16;

      egg.style.left = posX + "px";
      egg.style.top = posY + "px";

      // Remove if out of screen or lifetime exceeded
      if (
        posX < -100 || posX > window.innerWidth + 100 ||
        posY < -100 || posY > window.innerHeight + 100 ||
        lifetime > maxLifetime
      ) {
        egg.remove();
        return;
      }

      requestAnimationFrame(animate);
    }
    requestAnimationFrame(animate);

    document.body.appendChild(egg);
  }

  // Spawn eggs at interval
  setInterval(spawnEgg, 400);
</script>

</body>
</html>

